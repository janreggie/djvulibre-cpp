\hypertarget{classGMonitor}{}\doxysection{G\+Monitor Class Reference}
\label{classGMonitor}\index{GMonitor@{GMonitor}}


{\ttfamily \#include $<$G\+Threads.\+h$>$}



Inheritance diagram for G\+Monitor\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=336pt]{classGMonitor__inherit__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classGMonitor_a751db0f5dcbb979d13e13e7bc354631d}{enter}} ()
\item 
void \mbox{\hyperlink{classGMonitor_ad455cde2dfca233ef99ac9aaff70954d}{leave}} ()
\item 
void \mbox{\hyperlink{classGMonitor_a835950c9bcf04e711351d2fba0ce694e}{wait}} ()
\item 
void \mbox{\hyperlink{classGMonitor_a692188e207d01aeeee050384d6889e89}{wait}} (unsigned long timeout)
\item 
void \mbox{\hyperlink{classGMonitor_ab59e35bfcc98eda3bc28cba39cf9fe4a}{signal}} ()
\item 
void \mbox{\hyperlink{classGMonitor_a244b089a48d162efe1a786f79e9f1343}{broadcast}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Monitor class. Monitors have been first described in (C.\+A.\+R Hoare, Communications of the A\+CM, 17(10), 1974). This mechanism provides the basic mutual exclusion (mutex) and thread notification facilities (condition variables).

Only one thread can own the monitor at a given time. Functions \textbackslash{}\+Ref\{enter\} and \textbackslash{}\+Ref\{leave\} can be used to acquire and release the monitor. This mutual exclusion provides an efficient way to protect segment of codes (\{{\itshape critical} sections\}) which should not be simultaneously executed by two threads. \mbox{\hyperlink{structClass}{Class}} \textbackslash{}\+Ref\{\mbox{\hyperlink{classGMonitorLock}{G\+Monitor\+Lock}}\} provides a convenient way to do this effectively.

When the thread owning the monitor calls function \textbackslash{}\+Ref\{wait\}, the monitor is released and the thread starts waiting until another thread calls function \textbackslash{}\+Ref\{signal\} or \textbackslash{}\+Ref\{broadcast\}. When the thread wakes-\/up, it re-\/acquires the monitor and function \mbox{\hyperlink{classGMonitor_a835950c9bcf04e711351d2fba0ce694e}{wait}}\# returns. Since the signaling thread must acquire the monitor before calling functions \mbox{\hyperlink{classGMonitor_ab59e35bfcc98eda3bc28cba39cf9fe4a}{signal}}\# and \mbox{\hyperlink{classGMonitor_a244b089a48d162efe1a786f79e9f1343}{broadcast}}\#, the signaled thread will not be able to re-\/acquire the monitor until the signaling thread(s) releases the monitor.

\{\textbackslash{}bf Note\} --- Both the copy constructor and the copy operator are declared as private members. It is therefore not possible to make multiple copies of instances of this class, as implied by the class semantic. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classGMonitor_a244b089a48d162efe1a786f79e9f1343}\label{classGMonitor_a244b089a48d162efe1a786f79e9f1343}} 
\index{GMonitor@{GMonitor}!broadcast@{broadcast}}
\index{broadcast@{broadcast}!GMonitor@{GMonitor}}
\doxysubsubsection{\texorpdfstring{broadcast()}{broadcast()}}
{\footnotesize\ttfamily void G\+Monitor\+::broadcast (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Signals all waiting threads. Function \mbox{\hyperlink{classGMonitor_a244b089a48d162efe1a786f79e9f1343}{broadcast}}\# wakes up all the waiting threads for this monitor. An exception is thrown if this function is called by a thread which does not own the monitor. \mbox{\Hypertarget{classGMonitor_a751db0f5dcbb979d13e13e7bc354631d}\label{classGMonitor_a751db0f5dcbb979d13e13e7bc354631d}} 
\index{GMonitor@{GMonitor}!enter@{enter}}
\index{enter@{enter}!GMonitor@{GMonitor}}
\doxysubsubsection{\texorpdfstring{enter()}{enter()}}
{\footnotesize\ttfamily void G\+Monitor\+::enter (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Enters the monitor. If the monitor is acquired by another thread this function waits until the monitor is released. The current thread then acquires the monitor. Calls to \mbox{\hyperlink{classGMonitor_a751db0f5dcbb979d13e13e7bc354631d}{enter}}\# and \mbox{\hyperlink{classGMonitor_ad455cde2dfca233ef99ac9aaff70954d}{leave}}\# may be nested. \mbox{\Hypertarget{classGMonitor_ad455cde2dfca233ef99ac9aaff70954d}\label{classGMonitor_ad455cde2dfca233ef99ac9aaff70954d}} 
\index{GMonitor@{GMonitor}!leave@{leave}}
\index{leave@{leave}!GMonitor@{GMonitor}}
\doxysubsubsection{\texorpdfstring{leave()}{leave()}}
{\footnotesize\ttfamily void G\+Monitor\+::leave (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Leaves the monitor. The monitor counts how many times the current thread has entered the monitor. Function \mbox{\hyperlink{classGMonitor_ad455cde2dfca233ef99ac9aaff70954d}{leave}}\# decrement this count. The monitor is released when this count reaches zero. An exception is thrown if this function is called by a thread which does not own the monitor. \mbox{\Hypertarget{classGMonitor_ab59e35bfcc98eda3bc28cba39cf9fe4a}\label{classGMonitor_ab59e35bfcc98eda3bc28cba39cf9fe4a}} 
\index{GMonitor@{GMonitor}!signal@{signal}}
\index{signal@{signal}!GMonitor@{GMonitor}}
\doxysubsubsection{\texorpdfstring{signal()}{signal()}}
{\footnotesize\ttfamily void G\+Monitor\+::signal (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Signals one waiting thread. Function \mbox{\hyperlink{classGMonitor_ab59e35bfcc98eda3bc28cba39cf9fe4a}{signal}}\# wakes up at most one of the waiting threads for this monitor. An exception is thrown if this function is called by a thread which does not own the monitor. \mbox{\Hypertarget{classGMonitor_a835950c9bcf04e711351d2fba0ce694e}\label{classGMonitor_a835950c9bcf04e711351d2fba0ce694e}} 
\index{GMonitor@{GMonitor}!wait@{wait}}
\index{wait@{wait}!GMonitor@{GMonitor}}
\doxysubsubsection{\texorpdfstring{wait()}{wait()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void G\+Monitor\+::wait (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Waits until the monitor is signaled. The current thread atomically releases the monitor and waits until another thread calls function \mbox{\hyperlink{classGMonitor_ab59e35bfcc98eda3bc28cba39cf9fe4a}{signal}}\# or \mbox{\hyperlink{classGMonitor_a244b089a48d162efe1a786f79e9f1343}{broadcast}}\#. Function \mbox{\hyperlink{classGMonitor_a835950c9bcf04e711351d2fba0ce694e}{wait}}\# then re-\/acquires the monitor and returns. An exception is thrown if this function is called by a thread which does not own the monitor. \mbox{\Hypertarget{classGMonitor_a692188e207d01aeeee050384d6889e89}\label{classGMonitor_a692188e207d01aeeee050384d6889e89}} 
\index{GMonitor@{GMonitor}!wait@{wait}}
\index{wait@{wait}!GMonitor@{GMonitor}}
\doxysubsubsection{\texorpdfstring{wait()}{wait()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void G\+Monitor\+::wait (\begin{DoxyParamCaption}\item[{unsigned long}]{timeout }\end{DoxyParamCaption})}

Waits until the monitor is signaled or a timeout is reached. The current thread atomically releases the monitor and waits until another thread calls function \mbox{\hyperlink{classGMonitor_ab59e35bfcc98eda3bc28cba39cf9fe4a}{signal}}\# or \mbox{\hyperlink{classGMonitor_a244b089a48d162efe1a786f79e9f1343}{broadcast}}\# or a maximum of \#timeout\# milliseconds. Function \mbox{\hyperlink{classGMonitor_a835950c9bcf04e711351d2fba0ce694e}{wait}}\# then re-\/acquires the monitor and returns. An exception is thrown if this function is called by a thread which does not own the monitor. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
libdjvu/G\+Threads.\+h\end{DoxyCompactItemize}
