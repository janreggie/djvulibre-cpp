\hypertarget{classBufferByteStream}{}\doxysection{Buffer\+Byte\+Stream Class Reference}
\label{classBufferByteStream}\index{BufferByteStream@{BufferByteStream}}


Inheritance diagram for Buffer\+Byte\+Stream\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=184pt]{classBufferByteStream__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Buffer\+Byte\+Stream\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=254pt]{classBufferByteStream__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classBufferByteStream_aca9b6d92a4081b2d3a0b0301981a98a2}\label{classBufferByteStream_aca9b6d92a4081b2d3a0b0301981a98a2}} 
enum \{ {\bfseries bufsize} =512
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{Indent}\textbf{ csepdjvu}\par
{\em \{\textbackslash{}bf Synopsis\} \textbackslash{}begin\{verbatim\} csepdjvu $<$....options-\/or-\/separated\+\_\+files...$>$ $<$outputdjvufile$>$ \textbackslash{}end\{verbatim\}

\{\textbackslash{}bf Description\}

File \#\char`\"{}csepdjvu.\+cpp\char`\"{}\# demonstrates a complete back-\/end encoder that takes \{{\itshape separated} files\} as input and produces a djvu file as output. Each \{{\itshape separated} file\} contains a concatenation of pages. Each page contains the following components\+: \textbackslash{}begin\{itemize\} \textbackslash{}item A run-\/length encoded file representing the foreground. Two kind of run-\/length encoded files are accepted. The Black-\/\+And-\/\+White R\+LE format is described in section \textbackslash{}\+Ref\{P\+NM and R\+LE file formats\}. The Color R\+LE format is described below. \textbackslash{}item An optional P\+PM image representing the background. The size (width and height) of the P\+PM image must be obtained by rounding up the quotient of the foreground image size by an integer reduction factor ranging from 1 to 12. \textbackslash{}item An arbitrary number of comment lines starting with character \textquotesingle{}\#\textquotesingle{}. \textbackslash{}end\{itemize\} All the provided pages will be converted to Compound Dj\+Vu Images. Foreground colors will be encoded using a single solid color per component (see \textbackslash{}\+Ref\{Dj\+Vu Image files\}). Multiple pages will be gathered into a single bundled file. Use \textbackslash{}\+Ref\{djvmcvt\} or \textbackslash{}\+Ref\{djvujoin\} to create an indirect file.

\{\textbackslash{}bf \mbox{\hyperlink{structOptions}{Options}}\}

\textbackslash{}begin\{description\} \textbackslash{}item\mbox{[}-\/d n\mbox{]} Resolution written into the output file (default\+: 300). \textbackslash{}item\mbox{[}-\/q $<$spec$>$\mbox{]} Quality level for background (default\+: 72+11+10+10). See option \#\char`\"{}-\/slice\char`\"{}\# in program \textbackslash{}\+Ref\{c44\} for details. \textbackslash{}item\mbox{[}-\/v\mbox{]} Displays a brief message per page. \textbackslash{}item\mbox{[}-\/vv\mbox{]} Displays lots of additional messages. \textbackslash{}end\{description\}

\{\textbackslash{}bf Color R\+LE Images\}

The Color R\+LE file format is a simple run-\/length encoding scheme for color images with a limited number of colors. Color R\+LE files always begin with a text header composed of\+:
\begin{DoxyItemize}
\item the two characters \#\char`\"{}\+R6\char`\"{}\#,
\item the number of columns in decimal,\textbackslash{}
\item the number of rows in decimal,\textbackslash{}
\item the number of palette entries in decimal.\textbackslash{} These four items are separated by blank characters (space, tab, cr, or nl) or by comment lines introduced by character \`{}`\#'\textquotesingle{}. The last number is followed by exactly one character (usually a nl character). This header is followed by a palette containing three bytes per color. The bytes represent the red, green, and blue components of the color. ~\newline

\end{DoxyItemize}

The palette is followed by four bytes integers (M\+SB first) representing runs. The twelve upper bits of this integer indicate the index of the run color in the palette entry. The twenty lower bits of the integer indicate the run length. Color indices greater than 0xff0 are reserved for pixels belonging to the background layer. Color index 0xfff is used for transparent runs. Color index 0xffe is used for don\textquotesingle{}t-\/care runs (i.\+e. pixels whose values should be taken by smoothly completing the background using the wavelet masking algorithm). Each row is represented by a sequence of runs whose lengths add up to the image width. Rows are encoded starting with the top row and progressing towards the bottom row.

@memo Creates Dj\+Vu files from Separated files. \begin{DoxyAuthor}{Author}
L\textbackslash{}\textquotesingle{}eon Bottou \href{mailto:leonb@research.att.com}{\texttt{ leonb@research.\+att.\+com}} 
\end{DoxyAuthor}
}\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classBufferByteStream_a0e8b0139cfe58e3e34dcafb5bb3e9420}\label{classBufferByteStream_a0e8b0139cfe58e3e34dcafb5bb3e9420}} 
{\bfseries Buffer\+Byte\+Stream} (\mbox{\hyperlink{classByteStream}{Byte\+Stream}} \&lbs)
\item 
size\+\_\+t \mbox{\hyperlink{classBufferByteStream_a4b0a1cca421ba6743a4e2322233e0b49}{read}} (void $\ast$buffer, size\+\_\+t \mbox{\hyperlink{classByteStream_aa33b66a4401b7ab98953158b766a8dec}{size}})
\item 
size\+\_\+t \mbox{\hyperlink{classBufferByteStream_a943a9cb6c371761c040a500e872faa4a}{write}} (const void $\ast$buffer, size\+\_\+t \mbox{\hyperlink{classByteStream_aa33b66a4401b7ab98953158b766a8dec}{size}})
\item 
virtual long \mbox{\hyperlink{classBufferByteStream_a0f1985c286115798af846a157e2aa701}{tell}} (void) const
\item 
\mbox{\Hypertarget{classBufferByteStream_ad6756eecd747d012234f57b9070111ea}\label{classBufferByteStream_ad6756eecd747d012234f57b9070111ea}} 
int {\bfseries eof} (void)
\item 
\mbox{\Hypertarget{classBufferByteStream_a725de632d344a9c5f14ff7889d1eeb1e}\label{classBufferByteStream_a725de632d344a9c5f14ff7889d1eeb1e}} 
int {\bfseries unget} (int c)
\item 
\mbox{\Hypertarget{classBufferByteStream_a97687944dfc2aa2b789f8e8388f38681}\label{classBufferByteStream_a97687944dfc2aa2b789f8e8388f38681}} 
int {\bfseries get} (void)
\item 
\mbox{\Hypertarget{classBufferByteStream_a256aaef72b05b75632c2c35e34b4989c}\label{classBufferByteStream_a256aaef72b05b75632c2c35e34b4989c}} 
bool {\bfseries skip} (const char $\ast$s=\char`\"{} \textbackslash{}t\textbackslash{}n\textbackslash{}r\char`\"{})
\item 
\mbox{\Hypertarget{classBufferByteStream_a275f4842dc13c9a3f1ebdb044fb79b09}\label{classBufferByteStream_a275f4842dc13c9a3f1ebdb044fb79b09}} 
bool {\bfseries expect} (int \&c, const char $\ast$s)
\item 
\mbox{\Hypertarget{classBufferByteStream_aaf3774c80b258d5671cc7944721090c0}\label{classBufferByteStream_aaf3774c80b258d5671cc7944721090c0}} 
bool {\bfseries read\+\_\+integer} (int \&x)
\item 
\mbox{\Hypertarget{classBufferByteStream_aaf240e472905347780890a6829282f85}\label{classBufferByteStream_aaf240e472905347780890a6829282f85}} 
bool {\bfseries read\+\_\+pair} (int \&x, int \&y)
\item 
\mbox{\Hypertarget{classBufferByteStream_a5393edb6dee768563eff50bfdbdbc29b}\label{classBufferByteStream_a5393edb6dee768563eff50bfdbdbc29b}} 
bool {\bfseries read\+\_\+geometry} (\mbox{\hyperlink{classGRect}{G\+Rect}} \&r)
\item 
\mbox{\Hypertarget{classBufferByteStream_a215a51a550c157a6c1109f47d5730715}\label{classBufferByteStream_a215a51a550c157a6c1109f47d5730715}} 
bool {\bfseries read\+\_\+ps\+\_\+string} (\mbox{\hyperlink{classGUTF8String}{G\+U\+T\+F8\+String}} \&s)
\end{DoxyCompactItemize}
\end{Indent}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classBufferByteStream_a4b0a1cca421ba6743a4e2322233e0b49}\label{classBufferByteStream_a4b0a1cca421ba6743a4e2322233e0b49}} 
\index{BufferByteStream@{BufferByteStream}!read@{read}}
\index{read@{read}!BufferByteStream@{BufferByteStream}}
\doxysubsubsection{\texorpdfstring{read()}{read()}}
{\footnotesize\ttfamily size\+\_\+t Buffer\+Byte\+Stream\+::read (\begin{DoxyParamCaption}\item[{void $\ast$}]{buffer,  }\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Reads data from a \mbox{\hyperlink{classByteStream}{Byte\+Stream}}. This function \{{\itshape must\}} be implemented by each subclass of \mbox{\hyperlink{classByteStream}{Byte\+Stream}}\#. At most \mbox{\hyperlink{classByteStream_aa33b66a4401b7ab98953158b766a8dec}{size}}\# bytes are read from the \mbox{\hyperlink{classByteStream}{Byte\+Stream}} and stored in the memory area pointed to by \#buffer\#. Function \mbox{\hyperlink{classBufferByteStream_a4b0a1cca421ba6743a4e2322233e0b49}{read}}\# returns immediately if \mbox{\hyperlink{classByteStream_aa33b66a4401b7ab98953158b766a8dec}{size}}\# is zero. The actual number of bytes read is returned. Function \mbox{\hyperlink{classBufferByteStream_a4b0a1cca421ba6743a4e2322233e0b49}{read}}\# returns a number of bytes smaller than \mbox{\hyperlink{classByteStream_aa33b66a4401b7ab98953158b766a8dec}{size}}\# if the end-\/of-\/file mark is reached before filling the buffer. Subsequent invocations will always return value \#0\#. Function \mbox{\hyperlink{classBufferByteStream_a4b0a1cca421ba6743a4e2322233e0b49}{read}}\# may also return a value greater than zero but smaller than \mbox{\hyperlink{classByteStream_aa33b66a4401b7ab98953158b766a8dec}{size}}\# for internal reasons. Programs must be ready to handle these cases or use function \textbackslash{}\+Ref\{readall\}. Exception \textbackslash{}\+Ref\{\mbox{\hyperlink{classGException}{G\+Exception}}\} is thrown with a plain text error message whenever an error occurs. 

Reimplemented from \mbox{\hyperlink{classByteStream_ae69bbdbc77545f72488bde0639ae0e95}{Byte\+Stream}}.

\mbox{\Hypertarget{classBufferByteStream_a0f1985c286115798af846a157e2aa701}\label{classBufferByteStream_a0f1985c286115798af846a157e2aa701}} 
\index{BufferByteStream@{BufferByteStream}!tell@{tell}}
\index{tell@{tell}!BufferByteStream@{BufferByteStream}}
\doxysubsubsection{\texorpdfstring{tell()}{tell()}}
{\footnotesize\ttfamily long Buffer\+Byte\+Stream\+::tell (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}

Returns the offset of the current position in the \mbox{\hyperlink{classByteStream}{Byte\+Stream}}. This function \{{\itshape must\}} be implemented by each subclass of \mbox{\hyperlink{classByteStream}{Byte\+Stream}}\#. 

Implements \mbox{\hyperlink{classByteStream_a6379ec44f814a160980d2dd5c5e25672}{Byte\+Stream}}.

\mbox{\Hypertarget{classBufferByteStream_a943a9cb6c371761c040a500e872faa4a}\label{classBufferByteStream_a943a9cb6c371761c040a500e872faa4a}} 
\index{BufferByteStream@{BufferByteStream}!write@{write}}
\index{write@{write}!BufferByteStream@{BufferByteStream}}
\doxysubsubsection{\texorpdfstring{write()}{write()}}
{\footnotesize\ttfamily size\+\_\+t Buffer\+Byte\+Stream\+::write (\begin{DoxyParamCaption}\item[{const void $\ast$}]{buffer,  }\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Writes data to a \mbox{\hyperlink{classByteStream}{Byte\+Stream}}. This function \{{\itshape must\}} be implemented by each subclass of \mbox{\hyperlink{classByteStream}{Byte\+Stream}}\#. At most \mbox{\hyperlink{classByteStream_aa33b66a4401b7ab98953158b766a8dec}{size}}\# bytes from buffer \#buffer\# are written to the \mbox{\hyperlink{classByteStream}{Byte\+Stream}}. Function \mbox{\hyperlink{classBufferByteStream_a943a9cb6c371761c040a500e872faa4a}{write}}\# returns immediately if \mbox{\hyperlink{classByteStream_aa33b66a4401b7ab98953158b766a8dec}{size}}\# is zero. The actual number of bytes written is returned. Function \mbox{\hyperlink{classBufferByteStream_a943a9cb6c371761c040a500e872faa4a}{write}}\# may also return a value greater than zero but smaller than \mbox{\hyperlink{classByteStream_aa33b66a4401b7ab98953158b766a8dec}{size}}\# for internal reasons. Programs must be ready to handle these cases or use function \textbackslash{}\+Ref\{writall\}. Exception \textbackslash{}\+Ref\{\mbox{\hyperlink{classGException}{G\+Exception}}\} is thrown with a plain text error message whenever an error occurs. 

Reimplemented from \mbox{\hyperlink{classByteStream_ac10e950d655e5dabb93af44e3a5da855}{Byte\+Stream}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
tools/csepdjvu.\+cpp\end{DoxyCompactItemize}
